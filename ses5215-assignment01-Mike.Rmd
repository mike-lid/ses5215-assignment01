---
title: "**Assignment 01 - Group 3**"
author: "Daniel + Megan + Mike"
date: "26 October 2021"
output: 
  rmdformats::downcute
---
<style>
body {
text-align: justify}
</style>


```{r load library, echo=FALSE, message=FALSE, warning=FALSE, include=FALSE}
library(tidyverse)
library(tidycensus)
library(readxl)
library(knitr)
```

````{r, message = FALSE, include = FALSE, echo = FALSE, warning = FALSE}
census <- get_decennial(geography = "tract", 
                        year = 2020,
                        state = "MA",
                        #housing units = HUs
                        #population = pop
                        variables = c(pop = "P1_001N",
                                      HUs = "H1_002N",
                                      ),
                        output = "wide",
                        geometry = TRUE)

```


```{r, message = FALSE, include = FALSE, echo = FALSE, warning = FALSE}
urban_type <- read_xlsx(path = "data/NCHSURCodes2013.xlsx", 
                      sheet = "NCHSURCodes2013") %>%
  mutate(GEOID = case_when(str_length(as.character(`FIPS code`)) == 5 ~ 
                            as.character(`FIPS code`),
                          str_length(as.character(`FIPS code`)) == 4 ~
                            paste("0", `FIPS code`, sep=""),
                          TRUE ~ "unknown")) %>%
  mutate(type = case_when(`2013 code` == 1 ~ "Large central metro",
                          `2013 code` == 2 ~ "Large fringe metro",
                          `2013 code` == 3 ~ "Medium metro",
                          `2013 code` == 4 ~ "Small metro",
                          `2013 code` == 5 ~ "Micropolitan",
                          `2013 code` == 6 ~ "Non-core",
                          TRUE ~ "unknown")) %>%
  select(GEOID, type)
```

```{r, message = FALSE< echo = FALSE, warning = FALSE}
#Make Data Column
data <- left_join(census, acs_age) %>% 
  left_join(urban_type) %>%

kable(head(data))
```